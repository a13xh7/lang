// FOUNDATION

Table users {
  id int [pk]
  nickname int
  email varchar
  password varchar
  image varchar
  country varchar
  about varchar
  registered_at datetime
  email_verified_at datetime
  last_login_at datetime
  ip_address varchar
}

Table user_known_languages {
   user_id int
   language_id int
   language_level int
}


Table user_studied_languages {
  user_id int
  language_id int
}

Ref: user_studied_languages.user_id > users.id
Ref: user_studied_languages.language_id > languages.id
Ref: user_known_languages.user_id > users.id
Ref: user_known_languages.language_id > languages.id

// READER

Table texts {
  id int [pk]
  user_id int
  language_id int
  title varchar
  total_pages int
  current_page int
}


Table text_stats {
  id int [pk]
  text_id int
  user_id int
  total_words int
  known_words int
  unknown_words int
  all_words_json text

}


Table text_pages {
  id int [pk]
  text_id int
  page_number int
  content text
}

Table languages {
  id int [pk]
  code varchar
}


Ref: texts.user_id > users.id
Ref: text_stats.text_id > texts.id
Ref: text_pages.text_id > texts.id
Ref: texts.language_id > languages.id

// WORDS

Table words {
  id int [pk]
  language_id int
  word varchar
}

Table user_words {
  word_id int [pk]
  user_id int
  known_or_study int
}

Table translations {
  id int [pk]
  word_id int [unique]
  translation varchar
  language_id int
}

Table user_translations {
  id int [pk]
  word_id int
  user_id int
  translation varchar
}

Ref: words.language_id > languages.id
Ref: user_words.word_id > words.id
Ref: user_words.user_id > users.id
Ref: translations.word_id > words.id
Ref: translations.language_id > languages.id
Ref: user_translations.word_id > words.id
Ref: user_translations.user_id > users.id
